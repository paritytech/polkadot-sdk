title: Improve `CheckMetadataHash` transaction extension weight and logic

doc:
  - audience: Runtime Dev
    description: |
      Fix prometheus metrics not shutting down if there are open connections

crates:
- name: substrate-prometheus-endpoint
  bump: patch
