<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Dispute slashing pallet."><title>polkadot_runtime_parachains::disputes::slashing - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-cb6f1f67f1bcd037.css" id="mainThemeStyle"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="polkadot_runtime_parachains" data-themes="" data-resource-suffix="" data-rustdoc-version="1.73.0 (cc66ad468 2023-10-03)" data-channel="1.73.0" data-search-js="search-6dfdfced5eff6596.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-1596385f77d47ef2.css" data-theme-dark-css="dark-0a43001d3fc2282c.css" data-theme-ayu-css="ayu-fd19013d6ce078bf.css" ><script src="../../../static.files/storage-db41da1a38ea3cb8.js"></script><script defer src="../../../static.files/main-0795b7d26be81095.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../../../static.files/light-1596385f77d47ef2.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../../../static.files/dark-0a43001d3fc2282c.css"><link rel="stylesheet" href="../../../static.files/noscript-cffde32267a19fd6.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-2c020d218678b618.svg"><script async defer src="https://apisa.parity.io/latest.js"></script><noscript><img src="https://apisa.parity.io/latest.js" alt="" referrerpolicy="no-referrer-when-downgrade" /></noscript></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../../polkadot_runtime_parachains/index.html"><img class="rust-logo" src="../../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../../polkadot_runtime_parachains/index.html"><img class="rust-logo" src="../../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Module slashing</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#traits">Traits</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../../index.html">polkadot_runtime_parachains</a>::<wbr><a href="../index.html">disputes</a>::<wbr><a class="mod" href="#">slashing</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../../src/polkadot_runtime_parachains/disputes/slashing.rs.html#17-728">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Dispute slashing pallet.</p>
<p>Once a dispute is concluded, we want to slash validators who were on the
wrong side of the dispute. The slashing amount depends on whether the
candidate was valid (none at the moment) or invalid (big). In addition to
that, we might want to kick out the validators from the active set.
Currently, we limit slashing to the backing group for invalid disputes.</p>
<p>The <code>offences</code> pallet from Substrate provides us with a way to do both.
Currently, the interface expects us to provide staking information including
nominator exposure in order to submit an offence.</p>
<p>Normally, we’d able to fetch this information from the runtime as soon as
the dispute is concluded. This is also what <code>im-online</code> pallet does.
However, since a dispute can conclude several sessions after the candidate
was backed (see <code>dispute_period</code> in <code>HostConfiguration</code>), we can’t rely on
this information being available in the context of the current block. The
<code>babe</code> and <code>grandpa</code> equivocation handlers also have to deal with this
problem.</p>
<p>Our implementation looks like a hybrid of <code>im-online</code> and <code>grandpa</code>
equivocation handlers. Meaning, we submit an <code>offence</code> for the concluded
disputes about the current session candidate directly from the runtime. If,
however, the dispute is about a past session, we record unapplied slashes on
chain, without <code>FullIdentification</code> of the offenders. Later on, a block
producer can submit an unsigned transaction with <code>KeyOwnershipProof</code> of an
offender and submit it to the runtime to produce an offence.</p>
</div></details><h2 id="reexports" class="small-section-header"><a href="#reexports">Re-exports</a></h2><ul class="item-table"><li><div class="item-name"><code>pub use <a class="mod" href="pallet/index.html" title="mod polkadot_runtime_parachains::disputes::slashing::pallet">pallet</a>::*;</code></div></li></ul><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="pallet/index.html" title="mod polkadot_runtime_parachains::disputes::slashing::pallet">pallet</a></div><div class="desc docblock-short">The <code>pallet</code> module in each FRAME pallet hosts the most important items needed
to construct this pallet.</div></li></ul><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.BenchConfig.html" title="struct polkadot_runtime_parachains::disputes::slashing::BenchConfig">BenchConfig</a></div></li><li><div class="item-name"><a class="struct" href="struct.SlashValidatorsForDisputes.html" title="struct polkadot_runtime_parachains::disputes::slashing::SlashValidatorsForDisputes">SlashValidatorsForDisputes</a></div><div class="desc docblock-short">This type implements <code>SlashingHandler</code>.</div></li><li><div class="item-name"><a class="struct" href="struct.SlashingOffence.html" title="struct polkadot_runtime_parachains::disputes::slashing::SlashingOffence">SlashingOffence</a></div><div class="desc docblock-short">An offence that is filed when a series of validators lost a dispute.</div></li><li><div class="item-name"><a class="struct" href="struct.SlashingReportHandler.html" title="struct polkadot_runtime_parachains::disputes::slashing::SlashingReportHandler">SlashingReportHandler</a></div><div class="desc docblock-short">Actual <code>HandleReports</code> implemention.</div></li><li><div class="item-name"><a class="struct" href="struct.TestWeightInfo.html" title="struct polkadot_runtime_parachains::disputes::slashing::TestWeightInfo">TestWeightInfo</a></div></li></ul><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.BenchmarkingConfiguration.html" title="trait polkadot_runtime_parachains::disputes::slashing::BenchmarkingConfiguration">BenchmarkingConfiguration</a></div><div class="desc docblock-short">The benchmarking configuration.</div></li><li><div class="item-name"><a class="trait" href="trait.HandleReports.html" title="trait polkadot_runtime_parachains::disputes::slashing::HandleReports">HandleReports</a></div><div class="desc docblock-short">A trait that defines methods to report an offence (after the slashing report
has been validated) and for submitting a transaction to report a slash (from
an offchain context).</div></li><li><div class="item-name"><a class="trait" href="trait.WeightInfo.html" title="trait polkadot_runtime_parachains::disputes::slashing::WeightInfo">WeightInfo</a></div></li></ul></section></div></main></body></html>