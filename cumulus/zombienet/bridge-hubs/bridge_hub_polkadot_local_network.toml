[settings]
node_spawn_timeout = 240

[relaychain]
default_command = "{{POLKADOT_BINARY_PATH}}"
default_args = [ "-lparachain=debug,xcm=trace" ]
chain = "polkadot-local"

	[[relaychain.nodes]]
	name = "alice-validator-dot"
	validator = true
	rpc_port = 9935
	ws_port = 9945
	extra_args = ["--no-mdns --bootnodes {{'bob-validator-dot'|zombie('multiAddress')}}"]
	balance = 2000000000000

	[[relaychain.nodes]]
	name = "bob-validator-dot"
	validator = true
	rpc_port = 9936
	ws_port = 9946
	extra_args = ["--no-mdns --bootnodes {{'alice-validator-dot'|zombie('multiAddress')}}"]
	balance = 2000000000000

	[[relaychain.nodes]]
	name = "charlie-validator-dot"
	validator = true
	rpc_port = 9937
	ws_port = 9947
	extra_args = ["--no-mdns --bootnodes {{'alice-validator-dot'|zombie('multiAddress')}}"]
	balance = 2000000000000

[[parachains]]
id = 1002
chain = "bridge-hub-polkadot-local"
cumulus_based = true

	# run alice as parachain collator
	[[parachains.collators]]
	name = "alice-collator-dot"
	validator = true
	command = "{{POLKADOT_PARACHAIN_BINARY_PATH}}"
	rpc_port = 8935
	ws_port = 8945
	args = [
		"-lparachain=debug,runtime::mmr=info,substrate=info,runtime=info,runtime::bridge-hub=trace,runtime::bridge=trace,runtime::bridge-dispatch=trace,bridge=trace,runtime::bridge-messages=trace,xcm=trace",
	]
	extra_args = [
		"--force-authoring", "--no-mdns", "--bootnodes {{'bob-collator-dot'|zombie('multiAddress')}}",
		"-- --port 41335 --rpc-port 48935 --ws-port 48945 --no-mdns", "--bootnodes {{'alice-validator-dot'|zombie('multiAddress')}}"
	]

	# run bob as parachain collator
	[[parachains.collators]]
	name = "bob-collator-dot"
	validator = true
	command = "{{POLKADOT_PARACHAIN_BINARY_PATH}}"
	rpc_port = 8936
	ws_port = 8946
	args = [
		"-lparachain=trace,runtime::mmr=info,substrate=info,runtime=info,runtime::bridge-hub=trace,runtime::bridge=trace,runtime::bridge-dispatch=trace,bridge=trace,runtime::bridge-messages=trace,xcm=trace",
	]
	extra_args = [
		"--force-authoring", "--no-mdns", "--bootnodes {{'alice-collator-dot'|zombie('multiAddress')}}",
		"-- --port 41336 --rpc-port 48936 --ws-port 48946 --no-mdns", "--bootnodes {{'bob-validator-dot'|zombie('multiAddress')}}"
	]

[[parachains]]
id = 1000
chain = "asset-hub-polkadot-local"
cumulus_based = true

	[[parachains.collators]]
	name = "asset-hub-polkadot-collator1"
	rpc_port = 9011
	ws_port = 9010
	command = "{{POLKADOT_PARACHAIN_BINARY_PATH_FOR_ASSET_HUB_POLKADOT}}"
	args = [
		"-lparachain=debug,xcm=trace,runtime::bridge-transfer=trace",
	]
	extra_args = [
		"--no-mdns", "--bootnodes {{'asset-hub-polkadot-collator2'|zombie('multiAddress')}}",
		"-- --port 31333 --rpc-port 38933 --ws-port 38943 --no-mdns", "--bootnodes {{'alice-validator-dot'|zombie('multiAddress')}}"
	]

	[[parachains.collators]]
	name = "asset-hub-polkadot-collator2"
	command = "{{POLKADOT_PARACHAIN_BINARY_PATH_FOR_ASSET_HUB_POLKADOT}}"
	args = [
		"-lparachain=debug,xcm=trace,runtime::bridge-transfer=trace",
	]
	extra_args = [
		"--no-mdns", "--bootnodes {{'asset-hub-polkadot-collator1'|zombie('multiAddress')}}",
		"-- --port 31433 --rpc-port 38833 --ws-port 38843 --no-mdns", "--bootnodes {{'alice-validator-dot'|zombie('multiAddress')}}"
	]

[[hrmp_channels]]
sender = 1000
recipient = 1002
max_capacity = 4
max_message_size = 524288

[[hrmp_channels]]
sender = 1002
recipient = 1000
max_capacity = 4
max_message_size = 524288
