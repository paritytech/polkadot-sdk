[
  {
    "name": "nesting_no_limits",
    "eth_gas_limit": 5000000000,
    "extra_ref_time": 1000000000,
    "extra_proof": 2000,
    "ref_time_charge": 1000,
    "proof_size_charge": 1000,
    "deposit_charge": 1000,
    "call_resource": {
      "type": "NoLimits"
    },
    "expected": {
      "gas_left": 2999992500,
      "ref_time_left": 1499996250,
      "proof_size_left": 10107,
      "deposit_left": 599998500,
      "gas_consumed": 2000007500
    }
  },
  {
    "name": "nesting_no_limits_large",
    "eth_gas_limit": 5000000000,
    "extra_ref_time": 1000000000,
    "extra_proof": 2000,
    "ref_time_charge": 1000000000,
    "proof_size_charge": 10000,
    "deposit_charge": 50000,
    "call_resource": {
      "type": "NoLimits"
    },
    "expected": {
      "gas_left": 422112782,
      "ref_time_left": 499874750,
      "proof_size_left": 1106,
      "deposit_left": 84422556,
      "gas_consumed": 4577887218
    }
  },
  {
    "name": "nesting_refund",
    "eth_gas_limit": 5000000000,
    "extra_ref_time": 1000000000,
    "extra_proof": 3000,
    "ref_time_charge": 2000,
    "proof_size_charge": 100000,
    "deposit_charge": -7000000000,
    "call_resource": {
      "type": "NoLimits"
    },
    "expected": {
      "gas_left": 708617665,
      "ref_time_left": 18999997750,
      "proof_size_left": 1857,
      "deposit_left": 141723533,
      "gas_consumed": 4291382335
    }
  },
  {
    "name": "nesting_large_refund",
    "eth_gas_limit": 5000000000,
    "extra_ref_time": 1000000000,
    "extra_proof": 3000,
    "ref_time_charge": 2000,
    "proof_size_charge": 100000,
    "deposit_charge": -70000000000,
    "call_resource": {
      "type": "NoLimits"
    },
    "expected": {
      "gas_left": 315708617665,
      "ref_time_left": 176499997750,
      "proof_size_left": 827611,
      "deposit_left": 63141723533,
      "gas_consumed": 0
    }
  },
  {
    "name": "nesting_weight_deposit_basic",
    "eth_gas_limit": 5000000000,
    "extra_ref_time": 1000000000,
    "extra_proof": 2000,
    "ref_time_charge": 1000,
    "proof_size_charge": 1000,
    "deposit_charge": 1000,
    "call_resource": {
      "type": "WeightDeposit",
      "ref_time": 10000000000,
      "proof_size": 100000,
      "deposit_limit": 1000000000
    },
    "expected": {
      "gas_left": 2999992500,
      "ref_time_left": 1499996250,
      "proof_size_left": 10107,
      "deposit_left": 599998500,
      "gas_consumed": 2000007500
    }
  },
  {
    "name": "nesting_weight_deposit_ref_time_limited",
    "eth_gas_limit": 5000000000,
    "extra_ref_time": 1000000000,
    "extra_proof": 2000,
    "ref_time_charge": 1000,
    "proof_size_charge": 1000,
    "deposit_charge": 1000,
    "call_resource": {
      "type": "WeightDeposit",
      "ref_time": 1000000000,
      "proof_size": 100000,
      "deposit_limit": 1000000000
    },
    "expected": {
      "gas_left": 2999992500,
      "ref_time_left": 1000000000,
      "proof_size_left": 10107,
      "deposit_left": 599998500,
      "gas_consumed": 2000007500
    }
  },
  {
    "name": "nesting_weight_deposit_proof_limited",
    "eth_gas_limit": 5000000000,
    "extra_ref_time": 1000000000,
    "extra_proof": 2000,
    "ref_time_charge": 1000,
    "proof_size_charge": 1000,
    "deposit_charge": 1000,
    "call_resource": {
      "type": "WeightDeposit",
      "ref_time": 10000000000,
      "proof_size": 10000,
      "deposit_limit": 1000000000
    },
    "expected": {
      "gas_left": 2999992500,
      "ref_time_left": 1499996250,
      "proof_size_left": 10000,
      "deposit_left": 599998500,
      "gas_consumed": 2000007500
    }
  },
  {
    "name": "nesting_weight_deposit_deposit_limited",
    "eth_gas_limit": 5000000000,
    "extra_ref_time": 1000000000,
    "extra_proof": 2000,
    "ref_time_charge": 1000,
    "proof_size_charge": 1000,
    "deposit_charge": 1000,
    "call_resource": {
      "type": "WeightDeposit",
      "ref_time": 10000000000,
      "proof_size": 100000,
      "deposit_limit": 100000000
    },
    "expected": {
      "gas_left": 2999992500,
      "ref_time_left": 1499996250,
      "proof_size_left": 10107,
      "deposit_left": 100000000,
      "gas_consumed": 2000007500
    }
  },
  {
    "name": "nesting_weight_deposit_small_limits",
    "eth_gas_limit": 5000000000,
    "extra_ref_time": 1000000000,
    "extra_proof": 2000,
    "ref_time_charge": 1000,
    "proof_size_charge": 1000,
    "deposit_charge": 1000,
    "call_resource": {
      "type": "WeightDeposit",
      "ref_time": 40000,
      "proof_size": 200,
      "deposit_limit": 300000
    },
    "expected": {
      "gas_left": 1580000,
      "ref_time_left": 40000,
      "proof_size_left": 200,
      "deposit_left": 300000,
      "gas_consumed": 2000007500
    }
  },
  {
    "name": "nesting_ethereum_gas_higher",
    "eth_gas_limit": 5000000000,
    "extra_ref_time": 1000000000,
    "extra_proof": 2000,
    "ref_time_charge": 1000,
    "proof_size_charge": 1000,
    "deposit_charge": 1000,
    "call_resource": {
      "type": "Ethereum",
      "gas": 2999992501,
      "add_stipend": false
    },
    "expected": {
      "gas_left": 2999992500,
      "ref_time_left": 1499996250,
      "proof_size_left": 10107,
      "deposit_left": 599998500,
      "gas_consumed": 2000007500
    }
  },
  {
    "name": "nesting_ethereum_gas_lower",
    "eth_gas_limit": 5000000000,
    "extra_ref_time": 1000000000,
    "extra_proof": 2000,
    "ref_time_charge": 1000,
    "proof_size_charge": 1000,
    "deposit_charge": 1000,
    "call_resource": {
      "type": "Ethereum",
      "gas": 2999992499,
      "add_stipend": false
    },
    "expected": {
      "gas_left": 2999992499,
      "ref_time_left": 1499996249,
      "proof_size_left": 10107,
      "deposit_left": 599998499,
      "gas_consumed": 2000007500
    }
  },
  {
    "name": "nesting_ethereum_minimal_gas",
    "eth_gas_limit": 5000000000,
    "extra_ref_time": 1000000000,
    "extra_proof": 2000,
    "ref_time_charge": 1000000000,
    "proof_size_charge": 10000,
    "deposit_charge": 50000,
    "call_resource": {
      "type": "Ethereum",
      "gas": 10000,
      "add_stipend": false
    },
    "expected": {
      "gas_left": 10000,
      "ref_time_left": 288823359,
      "proof_size_left": 0,
      "deposit_left": 2000,
      "gas_consumed": 4577887218
    }
  }
]
